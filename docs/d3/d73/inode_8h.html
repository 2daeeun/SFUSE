<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SFUSE_Documentation: include/inode.h 파일 참조</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SFUSE_Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d3/d73/inode_8h.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">inode.h 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/d98/super_8h_source.html">super.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
inode.h에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d89/inode_8h__incl.png" border="0" usemap="#ainclude_2inode_8h" loading="lazy" alt=""/></div>
<map name="ainclude_2inode_8h" id="ainclude_2inode_8h">
<area shape="rect" title=" " alt="" coords="52,5,172,33"/>
<area shape="rect" href="../../db/d98/super_8h.html" title=" " alt="" coords="5,81,75,109"/>
<area shape="poly" title=" " alt="" coords="101,35,65,72,61,68,97,32"/>
<area shape="rect" title=" " alt="" coords="41,157,111,184"/>
<area shape="poly" title=" " alt="" coords="112,34,85,142,80,141,106,33"/>
<area shape="rect" title=" " alt="" coords="150,81,245,109"/>
<area shape="poly" title=" " alt="" coords="129,32,172,69,169,73,126,36"/>
<area shape="poly" title=" " alt="" coords="49,108,65,141,60,144,44,110"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/ddd/inode_8h__dep__incl.png" border="0" usemap="#ainclude_2inode_8hdep" loading="lazy" alt=""/></div>
<map name="ainclude_2inode_8hdep" id="ainclude_2inode_8hdep">
<area shape="rect" title=" " alt="" coords="103,5,223,33"/>
<area shape="rect" href="../../df/d9c/dir_8h.html" title=" " alt="" coords="112,81,214,109"/>
<area shape="poly" title=" " alt="" coords="166,49,166,81,160,81,160,49"/>
<area shape="rect" href="../../de/d32/dir_8c.html" title=" " alt="" coords="5,157,78,184"/>
<area shape="poly" title=" " alt="" coords="134,45,94,83,68,122,50,158,45,155,63,120,90,79,131,41"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html" title=" " alt="" coords="110,157,178,184"/>
<area shape="poly" title=" " alt="" coords="132,45,115,62,103,82,100,102,107,121,132,155,128,158,102,124,95,102,98,80,111,59,128,41"/>
<area shape="rect" href="../../d9/d70/ops_8c.html" title=" " alt="" coords="206,157,285,184"/>
<area shape="poly" title=" " alt="" coords="195,41,213,59,228,80,242,120,248,156,242,157,237,122,223,82,209,62,191,45"/>
<area shape="rect" href="../../d8/d2b/inode_8c.html" title=" " alt="" coords="288,81,379,109"/>
<area shape="poly" title=" " alt="" coords="208,37,304,78,302,83,206,42"/>
<area shape="poly" title=" " alt="" coords="130,119,64,159,62,154,127,115"/>
<area shape="poly" title=" " alt="" coords="158,124,150,157,145,156,153,123"/>
<area shape="poly" title=" " alt="" coords="191,117,233,154,229,158,187,121"/>
</map>
</div>
</div>
<p><a href="../../d3/d73/inode_8h_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
데이터 구조</h2></td></tr>
<tr class="memitem:sfuse_5Finode" id="r_sfuse_5Finode"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">아이노드 구조체  <a href="../../d2/d13/structsfuse__inode.html#details">더 자세히 ...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
매크로</h2></td></tr>
<tr class="memitem:ad8e7218c1f4e716d890d13bcba484ea3" id="r_ad8e7218c1f4e716d890d13bcba484ea3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8e7218c1f4e716d890d13bcba484ea3">SFUSE_NDIR_BLOCKS</a>&#160;&#160;&#160;12</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:a72a6e85b07ee4130a233e0db78fc95fe" id="r_a72a6e85b07ee4130a233e0db78fc95fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72a6e85b07ee4130a233e0db78fc95fe">inode_load</a> (int fd, const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *sb, uint32_t ino, struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *inode)</td></tr>
<tr class="memdesc:a72a6e85b07ee4130a233e0db78fc95fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">디스크에서 아이노드 읽기  <br /></td></tr>
<tr class="memitem:a4b04fa2e033f4171176700e3967af031" id="r_a4b04fa2e033f4171176700e3967af031"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b04fa2e033f4171176700e3967af031">inode_sync</a> (int fd, const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *sb, uint32_t ino, const struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *inode)</td></tr>
<tr class="memdesc:a4b04fa2e033f4171176700e3967af031"><td class="mdescLeft">&#160;</td><td class="mdescRight">디스크에 아이노드 기록  <br /></td></tr>
<tr class="memitem:a5416a6af7013809601f7be7803d2e226" id="r_a5416a6af7013809601f7be7803d2e226"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5416a6af7013809601f7be7803d2e226">fs_init_inode</a> (const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *sb, uint32_t ino, mode_t mode, uid_t uid, gid_t gid, struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *inode)</td></tr>
<tr class="memdesc:a5416a6af7013809601f7be7803d2e226"><td class="mdescLeft">&#160;</td><td class="mdescRight">새 아이노드 초기화  <br /></td></tr>
<tr class="memitem:ac23d0b65c87524e63092a01ffc526acc" id="r_ac23d0b65c87524e63092a01ffc526acc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac23d0b65c87524e63092a01ffc526acc">logical_to_physical</a> (int fd, const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *sb, const struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *inode, uint32_t lbn, void *buf, uint32_t *pbn_out)</td></tr>
<tr class="memdesc:ac23d0b65c87524e63092a01ffc526acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">논리 블록 인덱스를 물리 블록 번호로 변환  <br /></td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">매크로 문서화</h2>
<a id="ad8e7218c1f4e716d890d13bcba484ea3" name="ad8e7218c1f4e716d890d13bcba484ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e7218c1f4e716d890d13bcba484ea3">&#9670;&#160;</a></span>SFUSE_NDIR_BLOCKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFUSE_NDIR_BLOCKS&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/d73/inode_8h_source.html">inode.h</a> 파일의 <a class="el" href="../../d3/d73/inode_8h_source.html#l00010">10</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">함수 문서화</h2>
<a id="a5416a6af7013809601f7be7803d2e226" name="a5416a6af7013809601f7be7803d2e226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5416a6af7013809601f7be7803d2e226">&#9670;&#160;</a></span>fs_init_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fs_init_inode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *</td>          <td class="paramname"><span class="paramname"><em>sb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ino</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t</td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t</td>          <td class="paramname"><span class="paramname"><em>uid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t</td>          <td class="paramname"><span class="paramname"><em>gid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *</td>          <td class="paramname"><span class="paramname"><em>inode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>새 아이노드 초기화 </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">sb</td><td>슈퍼블록 정보 (unused) </td></tr>
    <tr><td class="paramname">ino</td><td>아이노드 번호 (unused) </td></tr>
    <tr><td class="paramname">mode</td><td>파일 타입 및 권한 </td></tr>
    <tr><td class="paramname">uid</td><td>소유자 UID </td></tr>
    <tr><td class="paramname">gid</td><td>소유자 GID </td></tr>
    <tr><td class="paramname">inode</td><td>초기화할 아이노드 구조체 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="../../d8/d2b/inode_8c_source.html">inode.c</a> 파일의 <a class="el" href="../../d8/d2b/inode_8c_source.html#l00041">41</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                                                    {</div>
<div class="line"><span class="lineno">   43</span>  (void)sb;</div>
<div class="line"><span class="lineno">   44</span>  (void)ino;</div>
<div class="line"><span class="lineno">   45</span>  memset(inode, 0, <span class="keyword">sizeof</span>(*inode));</div>
<div class="line"><span class="lineno">   46</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a615446922fb4369b86c548bd6a27a8b2">mode</a> = mode;</div>
<div class="line"><span class="lineno">   47</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#ab29868636ac693bd930eb8051d2a722c">uid</a> = uid;</div>
<div class="line"><span class="lineno">   48</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a38e8537191c32b5ad3959243316378f0">gid</a> = gid;</div>
<div class="line"><span class="lineno">   49</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a8f67762b0e63a291da0db528b627922c">size</a> = 0;</div>
<div class="line"><span class="lineno">   50</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a4ec8882c06d3f0935c3af6d551aee955">atime</a> = inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#ade8b0f59d2f96573797e6421d2a6e475">mtime</a> = inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#aff44930617e832c1a93af6b44de8059e">ctime</a> = (uint32_t)time(NULL);</div>
<div class="line"><span class="lineno">   51</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="#ad8e7218c1f4e716d890d13bcba484ea3">SFUSE_NDIR_BLOCKS</a>; i++)</div>
<div class="line"><span class="lineno">   52</span>    inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a3ef3b4aabd3bccb64773d12ebc0617e7">direct</a>[i] = 0;</div>
<div class="line"><span class="lineno">   53</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a7bf0a3ca57adf077b272e29d40c1c45b">indirect</a> = 0;</div>
<div class="line"><span class="lineno">   54</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a22386050768744617549779e3845fa0e">double_indirect</a> = 0;</div>
<div class="line"><span class="lineno">   55</span>  inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a5b71225b19b66dea755dacbc92df2281">links</a> = (S_ISDIR(mode) ? 2 : 1);</div>
<div class="line"><span class="lineno">   56</span>}</div>
<div class="ttc" id="ainode_8h_html_ad8e7218c1f4e716d890d13bcba484ea3"><div class="ttname"><a href="#ad8e7218c1f4e716d890d13bcba484ea3">SFUSE_NDIR_BLOCKS</a></div><div class="ttdeci">#define SFUSE_NDIR_BLOCKS</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00010">inode.h:10</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a22386050768744617549779e3845fa0e"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a22386050768744617549779e3845fa0e">sfuse_inode::double_indirect</a></div><div class="ttdeci">uint32_t double_indirect</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00025">inode.h:25</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a38e8537191c32b5ad3959243316378f0"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a38e8537191c32b5ad3959243316378f0">sfuse_inode::gid</a></div><div class="ttdeci">gid_t gid</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00018">inode.h:18</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a3ef3b4aabd3bccb64773d12ebc0617e7"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a3ef3b4aabd3bccb64773d12ebc0617e7">sfuse_inode::direct</a></div><div class="ttdeci">uint32_t direct[12]</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00023">inode.h:23</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a4ec8882c06d3f0935c3af6d551aee955"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a4ec8882c06d3f0935c3af6d551aee955">sfuse_inode::atime</a></div><div class="ttdeci">uint32_t atime</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00020">inode.h:20</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a5b71225b19b66dea755dacbc92df2281"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a5b71225b19b66dea755dacbc92df2281">sfuse_inode::links</a></div><div class="ttdeci">uint32_t links</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00026">inode.h:26</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a615446922fb4369b86c548bd6a27a8b2"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a615446922fb4369b86c548bd6a27a8b2">sfuse_inode::mode</a></div><div class="ttdeci">mode_t mode</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00016">inode.h:16</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a7bf0a3ca57adf077b272e29d40c1c45b"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a7bf0a3ca57adf077b272e29d40c1c45b">sfuse_inode::indirect</a></div><div class="ttdeci">uint32_t indirect</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00024">inode.h:24</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_a8f67762b0e63a291da0db528b627922c"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#a8f67762b0e63a291da0db528b627922c">sfuse_inode::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00019">inode.h:19</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_ab29868636ac693bd930eb8051d2a722c"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#ab29868636ac693bd930eb8051d2a722c">sfuse_inode::uid</a></div><div class="ttdeci">uid_t uid</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00017">inode.h:17</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_ade8b0f59d2f96573797e6421d2a6e475"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#ade8b0f59d2f96573797e6421d2a6e475">sfuse_inode::mtime</a></div><div class="ttdeci">uint32_t mtime</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00021">inode.h:21</a></div></div>
<div class="ttc" id="astructsfuse__inode_html_aff44930617e832c1a93af6b44de8059e"><div class="ttname"><a href="../../d2/d13/structsfuse__inode.html#aff44930617e832c1a93af6b44de8059e">sfuse_inode::ctime</a></div><div class="ttdeci">uint32_t ctime</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d73/inode_8h_source.html#l00022">inode.h:22</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_a5416a6af7013809601f7be7803d2e226_icgraph.png" border="0" usemap="#ad3/d73/inode_8h_a5416a6af7013809601f7be7803d2e226_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_a5416a6af7013809601f7be7803d2e226_icgraph" id="ad3/d73/inode_8h_a5416a6af7013809601f7be7803d2e226_icgraph">
<area shape="rect" title="새 아이노드 초기화" alt="" coords="334,57,438,85"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3dc8c022bbe3b39f096940e91141d557" title="파일 시스템 초기화" alt="" coords="175,5,271,33"/>
<area shape="poly" title=" " alt="" coords="325,55,268,36,270,31,327,50"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a6dc52b86f2cef1906558a324213cac6e" title=" " alt="" coords="160,57,286,85"/>
<area shape="poly" title=" " alt="" coords="318,74,286,74,286,68,318,68"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acac9f9c69134190f86e015e89e39d43f" title=" " alt="" coords="161,109,284,137"/>
<area shape="poly" title=" " alt="" coords="327,93,270,111,268,106,325,88"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#abee68f41bd184eba48e4372de1fc35c6" title=" " alt="" coords="5,5,112,33"/>
<area shape="poly" title=" " alt="" coords="159,22,112,22,112,16,159,16"/>
</map>
</div>

</div>
</div>
<a id="a72a6e85b07ee4130a233e0db78fc95fe" name="a72a6e85b07ee4130a233e0db78fc95fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a6e85b07ee4130a233e0db78fc95fe">&#9670;&#160;</a></span>inode_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inode_load </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *</td>          <td class="paramname"><span class="paramname"><em>sb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ino</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *</td>          <td class="paramname"><span class="paramname"><em>inode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>디스크에서 아이노드 읽기 </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>디바이스 파일 디스크립터 </td></tr>
    <tr><td class="paramname">sb</td><td>슈퍼블록 정보 </td></tr>
    <tr><td class="paramname">ino</td><td>읽을 아이노드 번호 </td></tr>
    <tr><td class="paramname">inode</td><td>결과 저장 버퍼 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>0 성공, 음수 오류코드 </dd></dl>

<p class="definition"><a class="el" href="../../d8/d2b/inode_8c_source.html">inode.c</a> 파일의 <a class="el" href="../../d8/d2b/inode_8c_source.html#l00013">13</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>                                          {</div>
<div class="line"><span class="lineno">   15</span>  <span class="keywordflow">if</span> (ino == 0 || ino &gt;= sb-&gt;<a class="code hl_variable" href="../../da/d50/structsfuse__super.html#a6ea0f291f1292da7a86611336d28d36f">inodes_count</a>)</div>
<div class="line"><span class="lineno">   16</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">   17</span>  off_t off = ((off_t)sb-&gt;<a class="code hl_variable" href="../../da/d50/structsfuse__super.html#a274c7bf26a003e667534185aef04f732">inode_table_start</a> * <a class="code hl_define" href="../../db/d98/super_8h.html#a0f31825083a6f1e0e2f5b5a2fd1181aa">SFUSE_BLOCK_SIZE</a>) +</div>
<div class="line"><span class="lineno">   18</span>              (ino * <span class="keyword">sizeof</span>(*inode));</div>
<div class="line"><span class="lineno">   19</span>  ssize_t ret = <a class="code hl_function" href="../../df/d1d/img_8h.html#ae5100e4c2e08dd8f8df7feed1f30e979">img_read</a>(fd, inode, <span class="keyword">sizeof</span>(*inode), off);</div>
<div class="line"><span class="lineno">   20</span>  <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)ret;</div>
<div class="line"><span class="lineno">   22</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)ret != <span class="keyword">sizeof</span>(*inode))</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">   24</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   25</span>}</div>
<div class="ttc" id="aimg_8h_html_ae5100e4c2e08dd8f8df7feed1f30e979"><div class="ttname"><a href="../../df/d1d/img_8h.html#ae5100e4c2e08dd8f8df7feed1f30e979">img_read</a></div><div class="ttdeci">ssize_t img_read(int fd, void *buf, size_t size, off_t offset)</div><div class="ttdoc">원시 디바이스에서 특정 오프셋만큼 읽기</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3e/img_8c_source.html#l00015">img.c:15</a></div></div>
<div class="ttc" id="astructsfuse__super_html_a274c7bf26a003e667534185aef04f732"><div class="ttname"><a href="../../da/d50/structsfuse__super.html#a274c7bf26a003e667534185aef04f732">sfuse_super::inode_table_start</a></div><div class="ttdeci">uint32_t inode_table_start</div><div class="ttdef"><b>Definition</b> <a href="../../db/d98/super_8h_source.html#l00030">super.h:30</a></div></div>
<div class="ttc" id="astructsfuse__super_html_a6ea0f291f1292da7a86611336d28d36f"><div class="ttname"><a href="../../da/d50/structsfuse__super.html#a6ea0f291f1292da7a86611336d28d36f">sfuse_super::inodes_count</a></div><div class="ttdeci">uint32_t inodes_count</div><div class="ttdef"><b>Definition</b> <a href="../../db/d98/super_8h_source.html#l00024">super.h:24</a></div></div>
<div class="ttc" id="asuper_8h_html_a0f31825083a6f1e0e2f5b5a2fd1181aa"><div class="ttname"><a href="../../db/d98/super_8h.html#a0f31825083a6f1e0e2f5b5a2fd1181aa">SFUSE_BLOCK_SIZE</a></div><div class="ttdeci">#define SFUSE_BLOCK_SIZE</div><div class="ttdef"><b>Definition</b> <a href="../../db/d98/super_8h_source.html#l00008">super.h:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_cgraph.png" border="0" usemap="#ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_cgraph" id="ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_cgraph">
<area shape="rect" title="디스크에서 아이노드 읽기" alt="" coords="5,5,98,33"/>
<area shape="rect" href="../../d1/d3e/img_8c.html#ab5f174b2ac56c4370d34760eebb328ad" title="원시 디바이스에서 특정 오프셋만큼 읽기" alt="" coords="146,5,228,33"/>
<area shape="poly" title=" " alt="" coords="98,16,130,16,130,22,98,22"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_icgraph.png" border="0" usemap="#ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_icgraph" id="ad3/d73/inode_8h_a72a6e85b07ee4130a233e0db78fc95fe_icgraph">
<area shape="rect" title="디스크에서 아이노드 읽기" alt="" coords="670,492,762,520"/>
<area shape="rect" href="../../de/d32/dir_8c.html#a46039c7666b2dae1401a0b3e8ad5f1f1" title="디렉터리에 새 엔트리 추가" alt="" coords="203,7,314,34"/>
<area shape="poly" title=" " alt="" coords="709,477,699,391,681,280,654,174,638,134,620,106,587,79,549,58,508,42,466,31,384,20,314,19,314,14,384,15,467,26,510,37,551,53,590,75,624,103,643,131,659,173,686,279,704,391,714,476"/>
<area shape="rect" href="../../de/d32/dir_8c.html#ac2f55242043759c79ce3aaa895ffbd6b" title="디렉터리 블록들을 모두 읽어들임" alt="" coords="548,275,622,302"/>
<area shape="poly" title=" " alt="" coords="697,480,619,347,593,304,597,301,624,344,701,477"/>
<area shape="rect" href="../../de/d32/dir_8c.html#a6d70dfe2356e0eefe891a57e11c62e16" title="디렉터리 엔트리 삭제" alt="" coords="190,160,326,188"/>
<area shape="poly" title=" " alt="" coords="709,477,702,430,686,373,660,315,642,288,620,265,587,241,551,221,512,206,473,194,395,180,327,175,327,170,395,175,474,189,514,201,553,216,590,236,623,261,646,285,664,312,691,371,707,429,715,476"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acf89b7cf9e32fbd2b7c749abb1b89234" title=" " alt="" coords="13,161,133,189"/>
<area shape="poly" title=" " alt="" coords="710,477,703,424,688,356,661,286,642,253,620,224,594,200,566,180,536,164,504,151,436,135,365,130,295,133,229,141,123,163,122,158,228,135,294,127,365,125,436,130,506,146,538,159,569,175,598,195,624,220,647,250,666,284,693,355,708,423,715,476"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#aad351f0b0a44bc288b2400fd405cef8c" title=" " alt="" coords="10,313,136,341"/>
<area shape="poly" title=" " alt="" coords="704,535,672,591,649,622,624,650,570,700,516,743,464,779,411,806,357,820,302,820,274,813,245,802,187,766,162,735,140,686,121,626,106,559,84,430,73,342,78,341,89,429,111,558,127,624,145,684,166,732,190,763,248,798,275,808,303,814,356,815,409,801,461,775,513,739,566,696,620,647,645,619,667,589,699,532"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a6c01c3409d41549c5ca34b9a2f64ccfe" title=" " alt="" coords="194,212,323,240"/>
<area shape="poly" title=" " alt="" coords="680,485,530,384,430,320,327,260,292,243,294,238,329,255,433,316,533,379,683,481"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a62bb834f4955786318b1c8588cbb0135" title=" " alt="" coords="200,465,317,493"/>
<area shape="poly" title=" " alt="" coords="654,503,621,500,317,484,318,479,622,495,654,498"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a4e8379279e62363763d8c7da873361d7" title=" " alt="" coords="201,517,316,545"/>
<area shape="poly" title=" " alt="" coords="654,512,316,531,316,525,654,507"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acdaffbb59b5fe7d0ceda916714ddc3ad" title=" " alt="" coords="193,569,324,597"/>
<area shape="poly" title=" " alt="" coords="655,519,325,575,324,570,654,513"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a042aaedab092b188556e193b25a81e9f" title=" " alt="" coords="189,621,328,649"/>
<area shape="poly" title=" " alt="" coords="661,528,622,540,458,587,319,623,318,618,456,582,621,535,659,523"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a7e84e199a67a156f1c4f3b9a85d46ad9" title=" " alt="" coords="189,673,328,701"/>
<area shape="poly" title=" " alt="" coords="684,531,623,567,542,603,459,633,318,675,317,670,458,628,540,598,620,562,681,526"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#aad4c968c1ab3a4b7e7c8b36054266f59" title=" " alt="" coords="199,725,318,753"/>
<area shape="poly" title=" " alt="" coords="695,533,663,568,623,603,546,649,463,686,384,712,318,730,317,724,383,707,461,681,544,645,620,598,659,564,691,530"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a6dc52b86f2cef1906558a324213cac6e" title=" " alt="" coords="10,5,136,33"/>
<area shape="poly" title=" " alt="" coords="188,23,136,22,136,17,188,17"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acac9f9c69134190f86e015e89e39d43f" title=" " alt="" coords="11,57,135,85"/>
<area shape="poly" title=" " alt="" coords="192,41,127,59,126,54,190,36"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a40eb26b6c59a422e4ad1e906dff00037" title=" " alt="" coords="5,109,141,137"/>
<area shape="poly" title=" " alt="" coords="199,44,190,49,176,61,167,73,157,86,142,99,119,111,117,106,139,94,153,82,163,70,172,58,187,45,197,39"/>
<area shape="poly" title=" " alt="" coords="561,265,521,220,466,163,399,103,327,49,303,37,305,33,329,45,403,99,469,159,525,216,565,261"/>
<area shape="poly" title=" " alt="" coords="532,287,456,274,415,262,375,246,359,235,350,224,340,214,327,203,302,191,305,186,329,198,344,210,354,221,363,231,377,241,416,257,457,269,533,282"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aba575ee5529edea958cfbb7926a4f6c0" title="경로를 아이노드 번호로 해석" alt="" coords="376,415,500,442"/>
<area shape="poly" title=" " alt="" coords="560,316,456,416,452,412,556,312"/>
<area shape="poly" title=" " alt="" coords="190,158,126,140,127,135,192,153"/>
<area shape="poly" title=" " alt="" coords="174,177,134,177,134,172,174,172"/>
<area shape="poly" title=" " alt="" coords="199,197,190,203,157,230,127,261,86,315,82,311,123,257,153,226,187,198,196,193"/>
<area shape="poly" title=" " alt="" coords="399,407,374,385,359,362,351,342,343,323,326,304,308,292,291,285,257,280,223,274,205,267,187,253,168,227,162,201,156,176,139,152,121,140,124,135,143,148,161,174,167,200,173,225,191,249,208,262,225,269,258,275,292,280,311,287,330,300,347,320,356,340,364,360,378,381,402,403"/>
<area shape="poly" title=" " alt="" coords="373,412,187,355,160,324,129,278,80,191,84,188,134,275,164,321,190,350,375,407"/>
<area shape="poly" title=" " alt="" coords="360,429,276,420,231,412,188,399,134,373,91,344,94,339,136,368,190,394,233,406,277,415,361,424"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7f58173fe2f2486a7dee9e5e78a9e998" title="전체 경로를 부모 아이노드와 이름으로 분할" alt="" coords="206,59,310,86"/>
<area shape="poly" title=" " alt="" coords="427,401,390,287,361,217,326,150,300,116,274,89,277,85,304,112,330,147,366,215,395,285,432,399"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acf365c5992fb91ebb3982a04fbbdf3b4" title=" " alt="" coords="194,313,323,341"/>
<area shape="poly" title=" " alt="" coords="402,408,327,361,292,344,294,339,329,357,405,404"/>
<area shape="poly" title=" " alt="" coords="397,408,374,385,356,351,351,320,345,290,338,275,326,260,302,242,305,238,330,256,343,272,350,288,356,319,362,349,378,382,401,404"/>
<area shape="poly" title=" " alt="" coords="373,450,311,467,309,462,371,444"/>
<area shape="poly" title=" " alt="" coords="409,454,372,481,329,507,302,519,300,514,327,502,369,476,406,450"/>
<area shape="poly" title=" " alt="" coords="422,457,383,508,358,535,330,559,307,571,304,566,326,554,354,531,379,505,418,454"/>
<area shape="poly" title=" " alt="" coords="429,458,392,533,364,574,330,611,310,623,307,618,326,606,360,571,388,531,424,456"/>
<area shape="poly" title=" " alt="" coords="433,458,421,503,400,557,370,613,351,639,330,663,312,675,309,670,326,658,347,636,366,610,395,555,416,501,428,457"/>
<area shape="poly" title=" " alt="" coords="436,458,426,512,407,580,376,651,355,685,330,714,313,727,310,723,326,711,351,681,371,649,402,578,421,511,431,457"/>
<area shape="poly" title=" " alt="" coords="192,56,123,36,125,31,194,51"/>
<area shape="poly" title=" " alt="" coords="191,75,135,74,135,69,191,69"/>
<area shape="poly" title=" " alt="" coords="192,93,127,111,126,106,191,88"/>
<area shape="poly" title=" " alt="" coords="209,96,190,107,167,129,142,151,118,163,116,158,139,146,163,125,187,102,206,91"/>
<area shape="poly" title=" " alt="" coords="235,99,191,150,128,242,85,314,80,311,123,239,187,147,231,96"/>
</map>
</div>

</div>
</div>
<a id="a4b04fa2e033f4171176700e3967af031" name="a4b04fa2e033f4171176700e3967af031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b04fa2e033f4171176700e3967af031">&#9670;&#160;</a></span>inode_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inode_sync </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *</td>          <td class="paramname"><span class="paramname"><em>sb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ino</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *</td>          <td class="paramname"><span class="paramname"><em>inode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>디스크에 아이노드 기록 </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>디바이스 파일 디스크립터 </td></tr>
    <tr><td class="paramname">sb</td><td>슈퍼블록 정보 </td></tr>
    <tr><td class="paramname">ino</td><td>기록할 아이노드 번호 </td></tr>
    <tr><td class="paramname">inode</td><td>기록할 아이노드 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>0 성공, 음수 오류코드 </dd></dl>

<p class="definition"><a class="el" href="../../d8/d2b/inode_8c_source.html">inode.c</a> 파일의 <a class="el" href="../../d8/d2b/inode_8c_source.html#l00027">27</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>                                                {</div>
<div class="line"><span class="lineno">   29</span>  <span class="keywordflow">if</span> (ino == 0 || ino &gt;= sb-&gt;<a class="code hl_variable" href="../../da/d50/structsfuse__super.html#a6ea0f291f1292da7a86611336d28d36f">inodes_count</a>)</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">   31</span>  off_t off = ((off_t)sb-&gt;<a class="code hl_variable" href="../../da/d50/structsfuse__super.html#a274c7bf26a003e667534185aef04f732">inode_table_start</a> * <a class="code hl_define" href="../../db/d98/super_8h.html#a0f31825083a6f1e0e2f5b5a2fd1181aa">SFUSE_BLOCK_SIZE</a>) +</div>
<div class="line"><span class="lineno">   32</span>              (ino * <span class="keyword">sizeof</span>(*inode));</div>
<div class="line"><span class="lineno">   33</span>  ssize_t ret = <a class="code hl_function" href="../../df/d1d/img_8h.html#a67521b7a552a036b0c1c3ec9b4e3e6ea">img_write</a>(fd, inode, <span class="keyword">sizeof</span>(*inode), off);</div>
<div class="line"><span class="lineno">   34</span>  <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)ret;</div>
<div class="line"><span class="lineno">   36</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)ret != <span class="keyword">sizeof</span>(*inode))</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">   38</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   39</span>}</div>
<div class="ttc" id="aimg_8h_html_a67521b7a552a036b0c1c3ec9b4e3e6ea"><div class="ttname"><a href="../../df/d1d/img_8h.html#a67521b7a552a036b0c1c3ec9b4e3e6ea">img_write</a></div><div class="ttdeci">ssize_t img_write(int fd, const void *buf, size_t size, off_t offset)</div><div class="ttdoc">원시 디바이스에 특정 오프셋만큼 쓰기</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3e/img_8c_source.html#l00032">img.c:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_cgraph.png" border="0" usemap="#ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_cgraph" id="ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_cgraph">
<area shape="rect" title="디스크에 아이노드 기록" alt="" coords="5,5,100,33"/>
<area shape="rect" href="../../d1/d3e/img_8c.html#ad1abb87bbd6acc052bc498cd3d8f3278" title="원시 디바이스에 특정 오프셋만큼 쓰기" alt="" coords="148,5,234,33"/>
<area shape="poly" title=" " alt="" coords="100,16,132,16,132,22,100,22"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_icgraph.png" border="0" usemap="#ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_icgraph" id="ad3/d73/inode_8h_a4b04fa2e033f4171176700e3967af031_icgraph">
<area shape="rect" title="디스크에 아이노드 기록" alt="" coords="347,188,441,216"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3dc8c022bbe3b39f096940e91141d557" title="파일 시스템 초기화" alt="" coords="181,5,278,33"/>
<area shape="poly" title=" " alt="" coords="380,175,349,111,326,77,297,48,277,35,280,31,301,44,330,74,353,109,385,172"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a6dc52b86f2cef1906558a324213cac6e" title=" " alt="" coords="166,57,292,85"/>
<area shape="poly" title=" " alt="" coords="372,177,340,138,297,100,275,88,278,83,301,96,344,134,376,173"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acac9f9c69134190f86e015e89e39d43f" title=" " alt="" coords="168,109,291,137"/>
<area shape="poly" title=" " alt="" coords="355,182,298,152,269,140,271,135,300,147,357,178"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#acf89b7cf9e32fbd2b7c749abb1b89234" title=" " alt="" coords="169,161,290,189"/>
<area shape="poly" title=" " alt="" coords="331,194,289,188,290,182,332,189"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a042aaedab092b188556e193b25a81e9f" title=" " alt="" coords="160,213,299,241"/>
<area shape="poly" title=" " alt="" coords="332,214,300,219,299,214,331,209"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#aad351f0b0a44bc288b2400fd405cef8c" title=" " alt="" coords="167,265,292,293"/>
<area shape="poly" title=" " alt="" coords="356,226,300,255,271,267,269,262,298,250,354,221"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a7e84e199a67a156f1c4f3b9a85d46ad9" title=" " alt="" coords="160,317,298,345"/>
<area shape="poly" title=" " alt="" coords="376,230,343,269,301,307,278,319,275,314,297,302,340,265,372,226"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#aad4c968c1ab3a4b7e7c8b36054266f59" title=" " alt="" coords="170,369,288,397"/>
<area shape="poly" title=" " alt="" coords="385,231,353,294,330,329,301,359,281,371,278,366,297,354,325,325,349,292,380,229"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#abee68f41bd184eba48e4372de1fc35c6" title=" " alt="" coords="5,5,112,33"/>
<area shape="poly" title=" " alt="" coords="166,22,112,22,112,16,166,16"/>
</map>
</div>

</div>
</div>
<a id="ac23d0b65c87524e63092a01ffc526acc" name="ac23d0b65c87524e63092a01ffc526acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac23d0b65c87524e63092a01ffc526acc">&#9670;&#160;</a></span>logical_to_physical()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int logical_to_physical </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/d50/structsfuse__super.html">sfuse_super</a> *</td>          <td class="paramname"><span class="paramname"><em>sb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d13/structsfuse__inode.html">sfuse_inode</a> *</td>          <td class="paramname"><span class="paramname"><em>inode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>lbn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pbn_out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>논리 블록 인덱스를 물리 블록 번호로 변환 </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>디바이스 파일 디스크립터 </td></tr>
    <tr><td class="paramname">sb</td><td>슈퍼블록 정보 </td></tr>
    <tr><td class="paramname">inode</td><td>대상 아이노드 </td></tr>
    <tr><td class="paramname">lbn</td><td>논리 블록 인덱스 </td></tr>
    <tr><td class="paramname">buf</td><td>블록 읽기용 버퍼 (SFUSE_BLOCK_SIZE 크기) </td></tr>
    <tr><td class="paramname">pbn_out</td><td>변환된 물리 블록 번호 반환 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>0 성공, 음수 오류코드 </dd></dl>

<p class="definition"><a class="el" href="../../d8/d2b/inode_8c_source.html">inode.c</a> 파일의 <a class="el" href="../../d8/d2b/inode_8c_source.html#l00058">58</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                                      {</div>
<div class="line"><span class="lineno">   61</span>  <span class="keywordflow">if</span> (lbn &lt; <a class="code hl_define" href="#ad8e7218c1f4e716d890d13bcba484ea3">SFUSE_NDIR_BLOCKS</a>) {</div>
<div class="line"><span class="lineno">   62</span>    *pbn_out = inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a3ef3b4aabd3bccb64773d12ebc0617e7">direct</a>[lbn];</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   64</span>  }</div>
<div class="line"><span class="lineno">   65</span>  lbn -= <a class="code hl_define" href="#ad8e7218c1f4e716d890d13bcba484ea3">SFUSE_NDIR_BLOCKS</a>;</div>
<div class="line"><span class="lineno">   66</span>  uint32_t entries = <a class="code hl_define" href="../../db/d98/super_8h.html#a0f31825083a6f1e0e2f5b5a2fd1181aa">SFUSE_BLOCK_SIZE</a> / <span class="keyword">sizeof</span>(uint32_t);</div>
<div class="line"><span class="lineno">   67</span>  <span class="keywordflow">if</span> (lbn &lt; entries) {</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">if</span> (inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a7bf0a3ca57adf077b272e29d40c1c45b">indirect</a> == 0)</div>
<div class="line"><span class="lineno">   69</span>      <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/d40/block_8h.html#a8a7cedcc55adf1eeb0a4d2d05cf4b795">read_block</a>(fd, inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a7bf0a3ca57adf077b272e29d40c1c45b">indirect</a>, buf) &lt; 0)</div>
<div class="line"><span class="lineno">   71</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">   72</span>    uint32_t *ptrs = (uint32_t *)buf;</div>
<div class="line"><span class="lineno">   73</span>    *pbn_out = ptrs[lbn];</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   75</span>  }</div>
<div class="line"><span class="lineno">   76</span>  lbn -= entries;</div>
<div class="line"><span class="lineno">   77</span>  uint32_t idx1 = lbn / entries;</div>
<div class="line"><span class="lineno">   78</span>  uint32_t idx2 = lbn % entries;</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">if</span> (inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a22386050768744617549779e3845fa0e">double_indirect</a> == 0)</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/d40/block_8h.html#a8a7cedcc55adf1eeb0a4d2d05cf4b795">read_block</a>(fd, inode-&gt;<a class="code hl_variable" href="../../d2/d13/structsfuse__inode.html#a22386050768744617549779e3845fa0e">double_indirect</a>, buf) &lt; 0)</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">   83</span>  uint32_t *ptrs1 = (uint32_t *)buf;</div>
<div class="line"><span class="lineno">   84</span>  uint32_t block2 = ptrs1[idx1];</div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">if</span> (block2 == 0)</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno">   87</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/d40/block_8h.html#a8a7cedcc55adf1eeb0a4d2d05cf4b795">read_block</a>(fd, block2, buf) &lt; 0)</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">   89</span>  uint32_t *ptrs2 = (uint32_t *)buf;</div>
<div class="line"><span class="lineno">   90</span>  *pbn_out = ptrs2[idx2];</div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   92</span>}</div>
<div class="ttc" id="ablock_8h_html_a8a7cedcc55adf1eeb0a4d2d05cf4b795"><div class="ttname"><a href="../../de/d40/block_8h.html#a8a7cedcc55adf1eeb0a4d2d05cf4b795">read_block</a></div><div class="ttdeci">int read_block(int fd, uint32_t block_no, void *buf)</div><div class="ttdoc">디바이스에서 블록 단위(4KB)로 읽기</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d1c/block_8c_source.html#l00016">block.c:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_cgraph.png" border="0" usemap="#ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_cgraph" id="ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_cgraph">
<area shape="rect" title="논리 블록 인덱스를 물리 블록 번호로 변환" alt="" coords="5,5,151,33"/>
<area shape="rect" href="../../d3/d1c/block_8c.html#a8a7cedcc55adf1eeb0a4d2d05cf4b795" title="디바이스에서 블록 단위(4KB)로 읽기" alt="" coords="199,5,291,33"/>
<area shape="poly" title=" " alt="" coords="151,16,183,16,183,22,151,22"/>
<area shape="rect" href="../../d1/d3e/img_8c.html#ab5f174b2ac56c4370d34760eebb328ad" title="원시 디바이스에서 특정 오프셋만큼 읽기" alt="" coords="339,5,421,33"/>
<area shape="poly" title=" " alt="" coords="291,16,323,16,323,22,291,22"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_icgraph.png" border="0" usemap="#ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_icgraph" id="ad3/d73/inode_8h_ac23d0b65c87524e63092a01ffc526acc_icgraph">
<area shape="rect" title="논리 블록 인덱스를 물리 블록 번호로 변환" alt="" coords="172,32,317,60"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#a4e8379279e62363763d8c7da873361d7" title=" " alt="" coords="7,5,122,33"/>
<area shape="poly" title=" " alt="" coords="156,35,121,30,122,25,157,30"/>
<area shape="rect" href="../../d9/d70/ops_8c.html#aad4c968c1ab3a4b7e7c8b36054266f59" title=" " alt="" coords="5,57,124,85"/>
<area shape="poly" title=" " alt="" coords="157,61,124,65,124,60,156,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="../../d3/d73/inode_8h.html">inode.h</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
